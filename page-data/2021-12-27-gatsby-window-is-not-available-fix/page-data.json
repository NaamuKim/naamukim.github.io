{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/2021-12-27-gatsby-window-is-not-available-fix/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>ì´ í¬ìŠ¤íŠ¸ëŠ” gatsbyì˜ íŠ¹ì§•ê³¼ ì‚¬ìš©ìë“¤ì´ ìì£¼ ì ‘í•  ìˆ˜ ë°–ì— ì—†ëŠ” ì˜¤ë¥˜ë¥¼ ë‹¤ë£¬ë‹¤.</p>\n<h2>ğŸ˜¨â€window is not availableâ€</h2>\n<p>ì—´ì‹¬íˆ ì½”ë“œì§œê³  ê¸€ ì˜¬ë¦° ë‹¤ìŒì—</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> build</code></pre></div>\n<p>í–ˆë”ë‹ˆ window is not availableâ€¦</p>\n<p>ì˜ ìƒê°í•´ì•¼í•œë‹¤. window ê°ì²´ëŠ” ì–´ë””ìˆëŠ”ê°€?</p>\n<p>node.js í™˜ê²½ì€ window ê°ì²´ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤.</p>\n<p>ìš°ë¦¬ê°€ windowê°ì²´ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë¸Œë¼ìš°ì € ìœ„ê°€ ì•„ë‹ˆì—ˆëŠ”ê°€?</p>\n<p>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ìš°ë¦¬ëŠ” ë‘ ë°©ë²• ì •ë„ê°€ ìˆì„ ê²ƒì´ë‹¤.</p>\n<p>â€œì¡°ê±´ë¬¸ì— ê°ì‹¸ì„œ windowê°€ ì—†ëŠ” í™˜ê²½ì—ì„œë„ ì—ëŸ¬ê°€ ì•ˆë‚˜ê²Œ ë§Œë“ ë‹¤.â€</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span> window<span class=\"token operator\">===</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span></code></pre></div>\n<p>â€œuseEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì‚¬ì´ë“œì—ì„œëŠ” ë¬¸ì œê°€ ì•ˆ ìƒê¸°ê²Œ ë§Œë“ ë‹¤.â€</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useGoBack</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> navRef <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">goBackPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> window<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">back</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">/* ... */</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>useEffectëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ ì‹œì— ì‹¤í–‰ë˜ë¯€ë¡œ ë¹Œë“œ ì‹œì—ëŠ” ì‹¤í–‰ë˜ì§€ ì•Šì•„ ì—ëŸ¬ê°€ ìƒê¸°ì§€ ì•ŠëŠ”ë‹¤.</p>\n<h2>ğŸ˜¨â€IntersectionObserver is not availableâ€</h2>\n<p>ì´ ë¸”ë¡œê·¸ ê°™ì€ ê²½ìš°ì—ëŠ” IntersectionObserverë¥¼ ì‚¬ìš©í•´ì„œ ì¸í”¼ë‹ˆíŠ¸ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í–ˆëŠ”ë°</p>\n<p>ì´ë„ windowê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ê¸°ì— ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.</p>\n<p>ë”°ë¼ì„œ useEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    observer<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntersectionObserver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entries<span class=\"token punctuation\">,</span> observer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>entries<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>isIntersecting<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n\n      <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> value <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n      observer<span class=\"token punctuation\">.</span><span class=\"token function\">unobserve</span><span class=\"token punctuation\">(</span>entries<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì½”ë“œë¥¼ ì„¤ëª…í•˜ìë©´</p>\n<p>í¬ìŠ¤íŠ¸ ë¦¬ìŠ¤íŠ¸ì— ì—°ê²°ëœ ìš”ì†Œë“¤ì„ entries ì¸ìì—ì„œ í•˜ë‚˜ë§Œ ë°”ë¼ë³¸ë‹¤.</p>\n<p>ì´ì œ í¬ìŠ¤íŠ¸ í•˜ë‚˜ì”© ë” ë³¼ë•Œë§ˆë‹¤ setCountì—ì„œ 1ì´ ì˜¬ë¼ê°€ì„œ ëª‡ê°œì˜ í¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í–ˆëŠ” ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì´ë‹¤.</p>\n<h2>ë§ˆë¬´ë¦¬</h2>\n<p>ë¹Œë“œí™˜ê²½ê³¼ ë°°í¬ëœ í™˜ê²½ì´ ë‹¤ë¦„ì„ í†µí•´ ìƒê¸°ëŠ” ë¬¸ì œë¥¼ ifë¬¸ê³¼ useEffectë¥¼ ì´ìš©í•˜ì—¬ í•´ê²°í•˜ì—¬ ë³´ì•˜ë‹¤.</p>\n<p>ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ì½”ë“œì˜ ë¬¸ì œë§Œ ìƒê°í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ í™˜ê²½ë„ ìƒê°í•´ì•¼í•¨ì„ ì¸ì§€ í•  ìˆ˜ ìˆëŠ” ì˜ˆì‹œì—¬ì„œ ë¸”ë¡œê·¸ì—ë„ ê¼­ ì†Œê°œí•˜ê³  ì‹¶ì—ˆë‹¤.</p>\n<p>ë‹¤ìŒì€ ê²€ìƒ‰ ì—”ì§„ ìµœì í™”ë‚˜ ì›¹ ì ‘ê·¼ì„±ì„ ë†’ì¸ ë°©ë²•ì— ëŒ€í•´ì„œ ì†Œê°œí•˜ê³  ì‹¶ë‹¤.</p>","frontmatter":{"title":"gatsbyjs ë²„ê·¸ ì¡ê¸°(not available)","summary":"window is not available, IntersectionObserver is not available í•´ê²°","date":"2021.12.27.","categories":["Blog"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVQoz2MI0WklGzFAqFDd1lDdtmDtllC9NhI167YGabUEqDeF67cHqDcFa0ONA5mlCze6NUQbjFA0g3Q2Rxl3Tq3ZvGLKwa68NcHaLcHaLYEazZFGHSCGZrO/apO/WlOoLshRgZrNITogc0GaQ/Xa/FQbp9ZuuXvl2Ye3X14//zipYqOnXG1P4dpZzdtjzXvCDdpzvaanOU3KcJ3cU7g2WKslSLMl3KAjWBvs7GDt1rUzj+xace7j26/Xzj6a37kr0rBjxZSDbVkrd608t3Lqod2rz62bc2zLopOb5p9YM+PwskkHKiLm+ak0gmz2VWnoyl29Yc6xQ5svH91+rSJyvrdifWvGigVdezqyV02r3dKZu6omdtHMpu0TKzb2FK7dOP94hCHIR9DQDtJsaU5bPr9jV2XUggD1phCdVn+1pkDNZm/FekhYBmm1+Ks1+qs2xln0ZLlPhQQBAzzofJUbfJUb/FQbYSHcFqLbGqrXBolFiEioHig6AzSaIWoQmsP02sL02gjHMyTadFA1k5HCAJkBCdEyzGe5AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/115d19869f86cbf709822218d61740bb/95559/gatsby.png","srcSet":"/static/115d19869f86cbf709822218d61740bb/179d9/gatsby.png 76w,\n/static/115d19869f86cbf709822218d61740bb/837ea/gatsby.png 153w,\n/static/115d19869f86cbf709822218d61740bb/95559/gatsby.png 305w","sizes":"(min-width: 305px) 305px, 100vw"},"sources":[{"srcSet":"/static/115d19869f86cbf709822218d61740bb/c2b50/gatsby.webp 76w,\n/static/115d19869f86cbf709822218d61740bb/76f6c/gatsby.webp 153w,\n/static/115d19869f86cbf709822218d61740bb/ffe60/gatsby.webp 305w","type":"image/webp","sizes":"(min-width: 305px) 305px, 100vw"}]},"width":305,"height":165}},"publicURL":"/static/115d19869f86cbf709822218d61740bb/gatsby.png"}}}}]}},"pageContext":{"slug":"/2021-12-27-gatsby-window-is-not-available-fix/"}},
    "staticQueryHashes": []}