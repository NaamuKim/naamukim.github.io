{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/2022-05-13-cypress-selectors-and-cypress-tips/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>Automation Test = Finding Elements + Actions + Assertions</h2>\n<h3>그 중 Finding Elements를 하기 위해 Cypress 선택자들을 알아보자.</h3>\n<p>Cypress에서 element 찾기</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'css selector'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>cypress는 element찾을 때 4초의 타임아웃이 내장돼있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">//h1 태그들을 불러오는 것 여러개도 가져올 수 있음</span>\ncy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'h1'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>엄밀하게 가져오지는 못하므로 cy.get에 html 태그를 넣는 방식은 잘 생각하고 써야함</p>\n<h3>html 태그 id로 가져오는 방식</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#header1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//&lt;h1 id=\"header1\">헤더1&lt;/></span>\ncy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'h1#header1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//위와같지만 태그 명까지 지정해주는 방식</span></code></pre></div>\n<h3>html 태그 class로 가져오는 방식</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.header1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//&lt;h1 class=\"header1\">헤더1&lt;/></span>\ncy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'h1.header1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//태그명도 지정 가능</span></code></pre></div>\n<h3>자식 요소에 접근하는 방식</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list>.list1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// >를 기억하면 된다.</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>list1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//children()을 이용하여 고를 수도 있다.</span></code></pre></div>\n<h3>먼 자식 요소에 접근하는 방식</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list .list1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 띄어쓰기를 통해서 손자나 증손자 element에 접근할 수 있따.</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.list1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//find로 손자나 증손자 element를 선택할 수 있다.</span></code></pre></div>\n<h3>첫번째 요소에 접근하는 방식</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">first</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//해당 페이지에 있는 li element중 html 제일 위쪽에 있는 것을 찾는다.</span></code></pre></div>\n<h3>마지막 요소에 접근하는 방식</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">last</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//해당 페이지에 있는 li element중 html 제일 이레쪽에 있는 것을 찾는다.</span></code></pre></div>\n<h3>중간 요소에 접근하는 방식(전체적으로 접근할 수 있음)</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//eq안에 있는것은 cy.get('li')한 것에서 index를 고르는 것이다.</span>\n<span class=\"token comment\">// 접근하고 싶은 element가 몇번째 index인지가 중요하다면 eq를 써서 접근하면 된다.</span></code></pre></div>\n<h3>filter command를 이용하여 접근하는 방식</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.web'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//li태그를 다 get한후 class name이 web인 것을 필터링한다.</span></code></pre></div>\n<h3>형제 elements 에 접근하는 방식</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list .list3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 고른 선택자를 기준으로 형제 element중에 바로 다음 element를 선택할 수 있음</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list .list3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">prev</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 고른 선택자를 기준으로 형제 element중에 바로 전 element를 선택할 수 있음</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list .list3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">nextAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 고른 선택자 기준 다음 형제 elements들을 전부 가져올 수 있음</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list .list3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">prevAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 고른 선택자 기준 이전 형제 elements들을 전부 가져올 수 있음</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list .list3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">nextUntil</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.list7'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 고른 선택자 기준 다음 형제 elements들을 param에 있는 곳 바로 전까지 선택할 수 있음</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.course-list .list3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">prevUntil</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.list1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 고른 선택자 기준 다음형제 elements들을 param에 있는 곳 바로 다음까지 선택할 수 있따.</span></code></pre></div>\n<h3>text 내용을 이용하여 접근하는 방식</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Selenium'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Cypress가 권장하는 접근방식</h2>\n<p>html element에 data-cy attribute를 부여한 후</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list2 web<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selenium-course<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Selenium<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-cy=\"selenium-course\"]'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//[attribute=\"value\"]꼴로 접근할 수 있다.</span></code></pre></div>\n<h3>선택 타임아웃 설정하기</h3>\n<ol>\n<li>cypress.json에서 defaultCommandTimeout을 설정한다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">//cypress.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"defaultCommandTimeout\"</span><span class=\"token operator\">:</span> <span class=\"token number\">10000</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"2\">\n<li>get의 두번째 arguments를 이용한다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">cy<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.list3'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> timeout<span class=\"token operator\">:</span> <span class=\"token number\">30000</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Cypress 프로그램 활용하기</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c4932b883d182b82ba862dc7823068df/eaa1b/cypress.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.58333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFElEQVQ4y42Ry04bMRSG51XKrfSJ2q7pnu7Llq6RAHFNKG/BogEksigsSECJuKhU5B6omBky45nxeDxfZXNRQBGqpU+/7XPO72PbmZn5wuzsVz5++sy7sSnGxt8zPmGY/m9MzcTkNJNTH3AAdJbhuh6Xl79pNlt0uz263f6jdul2Og86RKfTeabRaNjcuzsXp20Ke7e4rosQIWmaIpMI37/Hc28JAw8RDlBSQJ6AjkEnaBWhlUDJkDj0CMMQzx/g3Ny5+H6AEDFSKuJYmqY5OChTPTlBRAnXjRa9/g3XjSatdsfqIAhJpERlGVrnBEHIj+1tHNcbcO8G+G7AwBfceyEyzij9LFGtVvF9n1+HR9TqdVrtNs1m02q/37copWwDSZKwubmJE0URUfxIFNlra52xu7vL8fGxTTZFWmtGDZ3nz4bFYhFHCMEw5i2y7KWhOUSlEmzxKF4Z2i4fGTasViv2ff60+riBxAsN6QvMvkgypJQPhsNmrw0rlQqpUvRu/qJ0TpIqEqmsSpUh08zOVaaJ45hC4Q3DUqnE6empvU6ej36/4ZHn+dsd7u/vs7Ozw9XVFWdnZ1xcXFCr1djb2+Pw8Mj+ttk/Pz+3sXq9zvr6+mhD86vlcpmFhQWWl5dZWlqyatZz3+aYn//O1tYWi4uLNvYUN+s3DU2COXVtbY3V1VWrhUKBjY0NVlZW7PopZvKM4T8h5YovppyIgQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c4932b883d182b82ba862dc7823068df/a59e9/cypress.webp 192w,\n/static/c4932b883d182b82ba862dc7823068df/0ca9f/cypress.webp 384w,\n/static/c4932b883d182b82ba862dc7823068df/dc9b9/cypress.webp 768w,\n/static/c4932b883d182b82ba862dc7823068df/e2c2f/cypress.webp 1152w,\n/static/c4932b883d182b82ba862dc7823068df/f3efb/cypress.webp 1536w,\n/static/c4932b883d182b82ba862dc7823068df/49f40/cypress.webp 3456w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c4932b883d182b82ba862dc7823068df/3b721/cypress.png 192w,\n/static/c4932b883d182b82ba862dc7823068df/66595/cypress.png 384w,\n/static/c4932b883d182b82ba862dc7823068df/fe486/cypress.png 768w,\n/static/c4932b883d182b82ba862dc7823068df/d2d74/cypress.png 1152w,\n/static/c4932b883d182b82ba862dc7823068df/e8464/cypress.png 1536w,\n/static/c4932b883d182b82ba862dc7823068df/eaa1b/cypress.png 3456w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c4932b883d182b82ba862dc7823068df/fe486/cypress.png\"\n            alt=\"cypress.png\"\n            title=\"cypress.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>Cypress 프로그램(runnner)에서 새로고침 옆에 있는 찾기 아이콘을 이용하면 찾고 싶은 요소 옆에 가져다 대기만해도 요소를 선택할 좋은 방법을 알려준다.</p>","frontmatter":{"title":"Cypress 선택자들","summary":"Cypress에서 element찾기","date":"2022.05.13.","categories":["test"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACgElEQVQozzXS2U8TURTH8fkz1QcffTNxiWuMW1wiBhM0huWBhDUoFQmgCAKprU7LFOhGp+1Md6bt7DOQ4OvX3HF4+OXm3pt8cs49V+oHAcM4RhDQ9n3ankczju55NDwPzXXRXZee51OxbKqWwyAI8E9PcU9PccIQMwyRBCguxNrz/SgC1B0nAgRUd11qzn/QDkM02+Gob6KadrQXoH0BGjHWjys88X06Av97TiMIqDsOVduhbFqolh1hpYFJ3hhSs5wIsuKILqWTGBvE2ODsjGOjz7fff9hvtmicnaGFITU/RPUCyraH3DPJ9S2qph1VNYyrE4YkWhSoEa9N22b0w0cuX7rCo+cv2MkX2VQO2MjmWM/kWN8/JCHnWMkecWiYNGwnKuSiQ0kMoSviedjn56QKBSbGJ6MszC1w/e4Dbj96wtPRMW48fMzDVyPcefaSB6/f8qPapNA3o3cXRsf3kXT3/zQ7nkfL8ykOTF6+G+PmjVtMzS4wNr/EcjrDlqqxnDngc+aAuaTMbFLma7FGutWjatnRTxBDk8QXqDtudFAQjz20kVs9EukMu7UGqd6AvfYJP/UOm1qb1YrOyrHGl3KdeaUUoalml+LAomLaSEeGSWloRZE7fX63DRRjiDJ0SLZP2FB11ioa36sNVopVlvMqM9kC46l9xlMKE6kc80qRPa2D0u0j/WkZZLsDlN6QPb0bAdtaix/1JuuqxlLhmPnDEolilc95lelsno+/FEZ3Zd5sp3mxmeTe1y1GttPs1jtIO/UOSb3HrtZltVxn8ajMYr5MoqTyqVBhUs7x/leGKfmAKfmQxxs73F/diqDrS2vcXN7g6vQS12YTzGSL/APIu/fBXe/WCwAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/2a7f521a0fef58843d68817fdcb5b9d1/d8617/cypressio.png","srcSet":"/static/2a7f521a0fef58843d68817fdcb5b9d1/f2233/cypressio.png 183w,\n/static/2a7f521a0fef58843d68817fdcb5b9d1/0b207/cypressio.png 365w,\n/static/2a7f521a0fef58843d68817fdcb5b9d1/d8617/cypressio.png 730w","sizes":"(min-width: 730px) 730px, 100vw"},"sources":[{"srcSet":"/static/2a7f521a0fef58843d68817fdcb5b9d1/98c3d/cypressio.webp 183w,\n/static/2a7f521a0fef58843d68817fdcb5b9d1/4a1de/cypressio.webp 365w,\n/static/2a7f521a0fef58843d68817fdcb5b9d1/b3be8/cypressio.webp 730w","type":"image/webp","sizes":"(min-width: 730px) 730px, 100vw"}]},"width":730,"height":412}},"publicURL":"/static/2a7f521a0fef58843d68817fdcb5b9d1/cypressio.png"}}}}]}},"pageContext":{"slug":"/2022-05-13-cypress-selectors-and-cypress-tips/"}},
    "staticQueryHashes": []}