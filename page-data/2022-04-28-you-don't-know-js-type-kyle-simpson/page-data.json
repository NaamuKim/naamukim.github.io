{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/2022-04-28-you-don't-know-js-type-kyle-simpson/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>강제변환을 해결하기위해 학습하는 “타입의 실체”</h2>\n<ol>\n<li>자바스크립트의 7가지 타입</li>\n</ol>\n<ul>\n<li>null</li>\n<li>undefined</li>\n<li>boolean</li>\n<li>number</li>\n<li>string</li>\n<li>object</li>\n<li>symbol(after ES6)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">typeof</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">===</span> <span class=\"token string\">'undeined'</span> <span class=\"token comment\">// true</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">===</span> <span class=\"token string\">'boolean'</span> <span class=\"token comment\">// true</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token number\">42</span> <span class=\"token operator\">===</span> <span class=\"token string\">'number'</span> <span class=\"token comment\">// true</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token string\">'42'</span> <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span> <span class=\"token comment\">// true</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token punctuation\">{</span> life<span class=\"token operator\">:</span> <span class=\"token number\">42</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">===</span> <span class=\"token string\">'object'</span>\n<span class=\"token comment\">// ES6부터 추가</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">'symbol'</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>하지만 !!</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">typeof</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">===</span> <span class=\"token string\">'object'</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>null은 false와 같은 취급되는 유일한 원시값이지만 type은 object이다.</p>\n<h3>함수는 호출 가능한 객체</h3>\n<p>typeof가 반환하는 문자열중 아직 언급안한 것도 있다. 바로</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">typeof</span> <span class=\"token keyword\">function</span> <span class=\"token function\">naamu</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'haha'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">=</span><span class=\"token string\">\"function\"</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>typeof에서는 function이 최상위 타입 같지만 자바스크립트에서 function 즉 함수는 object의 하위 타입이다.</p>\n<p>함수에 선언된 인자의 개수는 함수 객체의 length 프로퍼티로 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">b<span class=\"token punctuation\">,</span> c</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* 개발나무 심기 */</span>\n<span class=\"token punctuation\">}</span>\na<span class=\"token punctuation\">.</span>length <span class=\"token comment\">//2</span></code></pre></div>\n<h3>아니 배열은 타입이 뭔데?</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">typeof</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">'object'</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>그저 객체일 뿐 배열은 숫자 인덱스를 가지며 (객체는 key: value라면 배열은 value: index)</p>\n<p>배열또한 함수처럼 객체의 하위 타입</p>\n<h2>변수에는 타입이 없지만 값에는 타입이 있다.</h2>\n<p>typeof로 변수에서 값을 가져온다고 쳐봤자 변수가 가지고 있는 값에 타입이 반환될 뿐이다.</p>\n<h2>undefined(값이 없는) vs undeclared(선언되지 않은)</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">var</span> a\n<span class=\"token keyword\">typeof</span> a <span class=\"token operator\">==</span> <span class=\"token string\">'undefined'</span> <span class=\"token comment\">// true</span>\n<span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> <span class=\"token number\">42</span>\n<span class=\"token keyword\">var</span> c\n\n<span class=\"token comment\">//then</span>\nb <span class=\"token operator\">=</span> c\n\n<span class=\"token keyword\">typeof</span> b <span class=\"token comment\">//undefined</span>\n<span class=\"token keyword\">typeof</span> c <span class=\"token comment\">//undefined</span></code></pre></div>\n<p>“undefined”는 접근 가능한 스코프에 변수가 선언되었느나(즉 자리를 가지고 있지만 변수의 값이 undefined) “undeclared”는 변수가 자리조차 받지 못한 상태이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">var</span> a\na <span class=\"token comment\">//undefined</span>\nb <span class=\"token comment\">//ReferenceError b is not defined ???? not defined !== undefined</span></code></pre></div>\n<h3>not defined라는 에러메시지는 undefined와 다르다</h3>\n<p>b is not defined 에러는 사실상 b is not declared와 같다!</p>\n<p>문제는 선언되지 않은 변수의 typeof 값이 undefined라는 것이다.</p>\n<p>이를 안전가드라고 하는데.. 다음에서 이게 괜찮은 역할을 하는 상황을 살펴보자!</p>\n<h2>여러 스크립트 파일의 변수들이 전역 네임스페이스를 공유한다면 typeof 의 안전가드… 꽤나 좋을지도??</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// 에러발생!! debug is not defined</span>\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token constant\">DEBUG</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"디버깅 시작\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//만약 debug가 not defined여도 에러는 발생하지 않음!</span>\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> <span class=\"token constant\">DEBUG</span><span class=\"token operator\">!==</span>\"<span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"디버깅을 시작합니다\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h3>typeof 쓰는 거 말고 다른 방법은?</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// 전역객체의 사용 브라우저에서는 window, Node에서는 window 객체가 없음</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span><span class=\"token constant\">DEBUG</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>typeof 안전가드를 전역 변수를 사용하지 않을 때 사용하는 방법은?</h3>\n<p>가정: 다른 사람이 만든 유틸리티 함수(function 유틸리티(){…})를 가져다 쓰는데 가져다 쓰는 프로그램에 유틸리티의 특정 값(함수, 변수)이 정의되어 있는지 체크해야하는 상황이라면?</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// FeatureCool을 확인하는 상황</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">changeWorldBetter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">var</span> changer <span class=\"token operator\">=</span>\n\t\t<span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> FeatureCool <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span>\n\t\tFeatureCool \"\n\t\t<span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token comment\">/*기본 Cool함수*/</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> coolThing <span class=\"token operator\">=</span> <span class=\"token function\">changer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>에러를 방지하면서 다른 사람이 쓰기 좋게 하거나 다른 사람의 코드를 내 코드에서도 에러 없이 돌아가게 할 수 있다!</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// IIFE</span>\n<span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">FeatureCool</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* 나의 Cool 함수 */</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">//doSomethingChange()를 포함할것임</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">changeWorldBetter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> changer <span class=\"token operator\">=</span>\n      <span class=\"token keyword\">typeof</span> FeatureCool <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span>\n        <span class=\"token operator\">?</span> <span class=\"token function-variable function\">FeatureCool</span>\n        <span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">/*기본 Cool 함수 내용 */</span>\n          <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">var</span> coolThing <span class=\"token operator\">=</span> <span class=\"token function\">changer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">changeWorldBetter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이 코드에서는 전역객체로 사용할 수 있는 것이 없기에 typeof가 더욱 요긴해진다.</p>\n<p>의존성 주입(Dependency Injection)</p>\n<p>매개변수를 이용하여 의존관계를 전달하는 방식</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">changeWorldBetter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">FeatureCool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> changer <span class=\"token operator\">=</span>\n    FeatureCool <span class=\"token operator\">||</span>\n    <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">/* 기본 Cool 함수 내용 */</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">var</span> coolThing <span class=\"token operator\">=</span> <span class=\"token function\">changer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>다양한 옵션이 가능하지만 대체로 typeof 안전 가드가 선택할 수 있는 옵션이 많아서 좋다.</p>\n<h2>내용 정리</h2>\n<ol>\n<li>자바스크립트에는 7가지에 내장 타입이 있고 함수랑 배열은 object이다.</li>\n<li>typeof 연산자로 타입명을 알아낼 수 있다.</li>\n<li>변수는 타입이 없지만 값은 타입이 있고 타입은 값이 가지고 있는 특성을 정의한다.</li>\n<li>undefined와 undeclared는 다르고 아쉽게도 undeclared된 값의 오류 메시지는 is not defined이므로 헷갈리지 말자.</li>\n<li>typeof 안전가드를 잘 사용하면 선언되지 않은 변수를 대응하기 좋다.</li>\n</ol>","frontmatter":{"title":"YOU DON'T KNOW JS (1장 타입)","summary":"카일 심슨의 YOU DON'T KNOW JS 1장 타입 정리","date":"2022.04.28.","categories":["js"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVQoz2P4f6uGbMRAE83/blb/vVn971bNP5I136z5f6/u//36/7dr/t+pJUEzyKo7tS+OFT45nP/rWuX3yxX/b9cSq/nvjer/jxsPLI2f3+E7vdFz14Lo/w8a/t6sJqz5382a/7dr/t6sntHstWtB9Ixm7yn1Hv8fEqcZim7X3NyZ+eFs6Z092R/Olv6/U/uPtKh62PDvTu3/Bw3/79aCwo8kzX9vVP+7CSXpm0iI0QwAzokn9sRdXPEAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/8add42706d9936c8c0866ce13efe8b0a/2ee73/vanilla.png","srcSet":"/static/8add42706d9936c8c0866ce13efe8b0a/10d63/vanilla.png 71w,\n/static/8add42706d9936c8c0866ce13efe8b0a/e45ee/vanilla.png 142w,\n/static/8add42706d9936c8c0866ce13efe8b0a/2ee73/vanilla.png 284w","sizes":"(min-width: 284px) 284px, 100vw"},"sources":[{"srcSet":"/static/8add42706d9936c8c0866ce13efe8b0a/1d6d0/vanilla.webp 71w,\n/static/8add42706d9936c8c0866ce13efe8b0a/147bb/vanilla.webp 142w,\n/static/8add42706d9936c8c0866ce13efe8b0a/033a8/vanilla.webp 284w","type":"image/webp","sizes":"(min-width: 284px) 284px, 100vw"}]},"width":284,"height":177}},"publicURL":"/static/8add42706d9936c8c0866ce13efe8b0a/vanilla.png"}}}}]}},"pageContext":{"slug":"/2022-04-28-you-don't-know-js-type-kyle-simpson/"}},
    "staticQueryHashes": []}